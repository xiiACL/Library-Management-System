<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>โ๏ธ ุชุนุฏูู ูุชุงุจ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    function confirmDelete() {
      return confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงููุชุงุจุ');
    }
  </script>
</head>
<body class="bg-gray-900 text-gray-100 p-4 max-w-xl mx-auto">
  <h1 class="text-2xl font-bold mb-6">โ๏ธ ุชุนุฏูู ุจูุงูุงุช ุงููุชุงุจ</h1>

  <form action="/edit/{{ book[0] }}" method="POST" enctype="multipart/form-data" class="space-y-4">
    <label class="block">
      ุนููุงู ุงููุชุงุจ:
      <input type="text" name="title" required class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[1] }}" />
    </label>

    <label class="block">
      ุงููุคูู:
      <input type="text" name="author" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[2] }}" />
    </label>

    <label class="block">
      ุงูุชุตููู:
      <select name="category" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" required>
        <option value="" {% if not book[3] %}selected{% endif %}>ุงุฎุชุฑ ุงูุชุตููู</option>
        <option value="ุฑูุงูุฉ" {% if book[3] == 'ุฑูุงูุฉ' %}selected{% endif %}>ุฑูุงูุฉ</option>
        <option value="ุฏููู" {% if book[3] == 'ุฏููู' %}selected{% endif %}>ุฏููู</option>
        <option value="ุณูุฑุฉ" {% if book[3] == 'ุณูุฑุฉ' %}selected{% endif %}>ุณูุฑุฉ</option>
        <option value="ุซูุงูุฉ" {% if book[3] == 'ุซูุงูุฉ' %}selected{% endif %}>ุซูุงูุฉ</option>
        <option value="ุชุงุฑูุฎ" {% if book[3] == 'ุชุงุฑูุฎ' %}selected{% endif %}>ุชุงุฑูุฎ</option>
        <option value="ุนููู" {% if book[3] == 'ุนููู' %}selected{% endif %}>ุนููู</option>
        <option value="ุชุทููุฑ ุฐุงุช" {% if book[3] == 'ุชุทููุฑ ุฐุงุช' %}selected{% endif %}>ุชุทููุฑ ุฐุงุช</option>
      </select>
    </label>

    <label class="block">
      ุฅุฌูุงูู ุงูุตูุญุงุช:
      <input type="number" name="total_pages" min="0" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[4] }}" />
    </label>

    <label class="block">
      ุงูุตูุญุฉ ุงูุญุงููุฉ:
      <input type="number" name="current_page" min="0" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[5] }}" />
    </label>

    <label class="block">
      ุชุงุฑูุฎ ุงูุดุฑุงุก:
      <input type="date" name="purchase_date" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[6] }}" />
    </label>

    <label class="block">
      ุขุฎุฑ ูุฑุงุกุฉ:
      <input type="datetime-local" name="last_read" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[7] }}" />
    </label>

    <label class="block">
      ููุน ุงููุชุงุจ:
      <select name="book_format" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100">
        <option value="" {% if not book[8] %}selected{% endif %}>ุงุฎุชูุงุฑู</option>
        <option value="PDF" {% if book[8] == 'PDF' %}selected{% endif %}>PDF</option>
        <option value="ูุฑูู" {% if book[8] == 'ูุฑูู' %}selected{% endif %}>ูุฑูู</option>
      </select>
    </label>

    <label class="block">
      ุตูุฑุฉ ุงูุบูุงู ุงูุญุงููุฉ:
      {% if book[9] %}
        <img src="{{ url_for('uploaded_file', filename=book[9]) }}" alt="ุบูุงู ุงููุชุงุจ" class="w-48 h-auto rounded border border-gray-700" />
      {% else %}
        <span class="text-gray-400">ูุง ุชูุฌุฏ ุตูุฑุฉ</span>
      {% endif %}
    </label>

    <label class="block">
      ุชุบููุฑ ุตูุฑุฉ ุงูุบูุงู:
      <input type="file" name="cover_image" accept="image/*" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" />
    </label>

    <label class="block">
      ุงุณู ุงูุณูุณูุฉ (ุฅู ูุฌุฏ):
      <input type="text" name="series_name" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[12] or '' }}" />
    </label>

    <label class="block">
      ุฑูู ุงูุฌุฒุก (ุฅู ูุฌุฏ):
      <input type="number" name="series_part" min="1" class="w-full bg-gray-800 border border-gray-700 px-3 py-2 rounded text-gray-100" value="{{ book[13] or '' }}" />
    </label>

    <div class="flex flex-wrap gap-4 mt-4">
      <button type="submit" class="bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 transition">๐พ ุญูุธ ุงูุชุนุฏููุงุช</button>
      <a href="/Books" class="bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 transition">โฌ๏ธ ุนูุฏุฉ</a>
    </div>
  </form>

  <form action="/delete/{{ book[0] }}" method="POST" onsubmit="return confirmDelete();" class="mt-6">
    <button type="submit" class="bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800 transition">๐๏ธ ุญุฐู ุงููุชุงุจ</button>
  </form>
</body>
</html>
