<!DOCTYPE html>
<html lang="ar" dir="rtl" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸƒâ€â™‚ï¸ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ - ÙˆØ¶Ø¹ Ø¯Ø§ÙƒÙ†</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 p-6 text-gray-200">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold mb-6 text-center text-green-400">ğŸƒâ€â™‚ï¸ Ø¬Ø¯ÙˆÙ„ Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ Ù„Ù…Ø¯Ø© 4 Ø£Ø³Ø§Ø¨ÙŠØ¹</h1>

    {% for i, week in enumerate(weeks, start=1) %}
      <section class="mb-8 bg-gray-800 p-4 rounded shadow-lg">
        <h2 class="text-xl font-semibold mb-4 border-b border-gray-700 pb-2 text-green-300">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ {{ i }}</h2>

        <div class="grid grid-cols-1 gap-4">
          {% for day in week %}
            {% set is_rest = day.duration == 0 %}
            <div class="p-4 rounded shadow-sm flex flex-col md:flex-row md:items-center md:justify-between
              {% if is_rest %}
                bg-gray-700 text-gray-400 italic
              {% else %}
                bg-gray-900
              {% endif %}
            ">
              <div>
                <div class="font-bold text-lg">
                  {{ day.day_name }} - {{ day.date }}
                  {% if not is_rest %}
                    - {{ day.duration }} Ø¯Ù‚ÙŠÙ‚Ø© - Ù…ØªÙˆØ³Ø· - Ø§Ù„Ù…Ù‚Ø§ÙˆÙ…Ø© {{ day.resistance }}
                  {% else %}
                    - Ø±Ø§Ø­Ø©
                  {% endif %}
                </div>
                {% if entries.get(day.date) and not is_rest %}
                  <div class="mt-1 text-gray-300">
                    Ø§Ù„Ù…Ø³Ø§ÙØ©: <span class="font-medium">{{ entries[day.date].distance }}</span> ÙƒÙ… &nbsp;|&nbsp;
                    Ø§Ù„ÙˆÙ‚Øª: <span class="font-medium">{{ entries[day.date].time }}</span> Ø¯Ù‚ÙŠÙ‚Ø© &nbsp;|&nbsp;
                    Ø§Ù„Ø¹Ø¯Ø§Ø¯: <span class="font-medium">{{ entries[day.date].odo }}</span> &nbsp;|&nbsp;
                    Ø§Ù„Ø³Ø¹Ø±Ø§Øª: <span class="font-medium">{{ entries[day.date].calories }}</span> ÙƒØ§Ù„ÙˆØ±ÙŠ
                  </div>
                {% elif not is_rest %}
                  <div class="mt-1 text-gray-500 italic">Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ…</div>
                {% endif %}

                {# Ù‡Ù†Ø§ Ù†Ø¶ÙŠÙ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… ØªØ­Øª ÙƒÙ„ ÙŠÙˆÙ… (Ù„Ùˆ ÙÙŠ ØªÙ‚ÙŠÙŠÙ…) #}
                {% if day.evaluation and not is_rest %}
                  <div class="mt-2 text-yellow-400 font-semibold">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: {{ day.evaluation }}</div>
                {% endif %}
              </div>
              {% if not is_rest %}
              <div class="mt-3 md:mt-0">
                {% if entries.get(day.date) %}
                  <a href="{{ url_for('editryadh') }}?date={{ day.date }}"
                    class="inline-block px-4 py-2 bg-yellow-400 text-black rounded hover:bg-yellow-500 transition">âœï¸ ØªØ¹Ø¯ÙŠÙ„</a>
                {% else %}
                  <a href="{{ url_for('editryadh') }}?date={{ day.date }}"
                    class="inline-block px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition">â• ØªØ³Ø¬ÙŠÙ„</a>
                {% endif %}
              </div>
              {% endif %}
            </div>
          {% endfor %}
        </div>

        <div class="mt-4 text-right font-semibold text-green-500">
          ğŸ§® Ù…Ø¬Ù…ÙˆØ¹ ÙˆÙ‚Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹: {{ weekly_summaries[i-1] }} Ø¯Ù‚ÙŠÙ‚Ø©<br>
          ğŸ”¥ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø¹Ø±Ø§Øª: {{ weekly_calories[i-1] }} ÙƒØ§Ù„ÙˆØ±ÙŠ<br>
          ğŸ›£ï¸ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ù…Ø³Ø§ÙØ©: {{ weekly_distances[i-1] }} ÙƒÙ…
        </div>
      </section>
    {% endfor %}
  </div>
</body>
</html>
